<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Welcome • SoulTribe.chat</title>
  <link rel="stylesheet" href="/theme.css" />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="/index.css" />
  <link rel="stylesheet" href="/mobile.css" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
</head>
<body class="welcome-page">
  <div class="topbar">
    <div class="brand">
      <a href="/" class="link-unstyled">SoulTribe.chat</a>
    </div>
    <div class="actions">
      <a id="btn-login-link" class="button secondary" href="/login.html">Login</a>
      <a id="btn-dashboard-link" class="button" href="/dashboard.html">Dashboard</a>
      <a id="btn-admin-link" class="button secondary" href="/admin/stats.html" style="display:none;">Admin</a>
    </div>
  </div>

  <div class="welcome-container">
    <!-- Hero -->
    <section class="card two-col">
      <div class="col text">
        <h1 data-i18n="landing.hero.title">Welcome</h1>
        <p data-i18n="landing.hero.subtitle">SoulTribe.chat is a space created to help you find and connect with your soul tribe — people who resonate with your energy, your spirit, and your journey. ✨</p>
      </div>
      <div class="col illustration">
        <img src="/img/intro.jpg" alt="Intro" loading="lazy" />
      </div>
    </section>

    <!-- How It Works -->
    <section class="card two-col reverse">
      <div class="col illustration">
        <img src="/img/Discover.jpg" alt="Discover Matches" width="391" height="391" loading="lazy" />
      </div>
      <div class="col text">
        <h2 data-i18n="landing.how.title">How It Works</h2>
        <ol>
          <li data-i18n-html="landing.how.step1"><strong>Create Your Profile</strong> — enter birth date, time, and place to generate your unique soul map.</li>
          <li data-i18n-html="landing.how.step2"><strong>Discover Your Matches</strong> — we highlight connections based on compatibility and resonance.</li>
          <li data-i18n-html="landing.how.step3"><strong>Start the Conversation</strong> — invite matches to chat; safe and private by design.</li>
          <li data-i18n-html="landing.how.step4"><strong>Meet Up (Optional)</strong> — schedule a Jitsi call or in‑person meetup with mutual consent.</li>
        </ol>
      </div>
    </section>

    <!-- Getting Started -->
    <section class="card two-col">
      <div class="col text">
        <h2 data-i18n="landing.getting_started.title">Getting Started</h2>
        <ol>
          <li data-i18n-html="landing.getting_started.step1"><strong>Create your account</strong> — no social logins required.</li>
          <li data-i18n-html="landing.getting_started.step2"><strong>Complete your profile</strong> — add birth details; approximate time is okay.</li>
          <li data-i18n-html="landing.getting_started.step3"><strong>Set your availability</strong> — propose local time slots; we handle UTC.</li>
          <li data-i18n-html="landing.getting_started.step4"><strong>Discover matches</strong> — browse resonance‑based suggestions.</li>
          <li data-i18n-html="landing.getting_started.step5"><strong>Chat & optionally meet</strong> — keep it in‑app; schedule when ready.</li>
        </ol>
      </div>
      <div class="col illustration">
        <img src="/img/GettingStarted.jpg" alt="Getting Started" width="391" height="391" loading="lazy" />
      </div>
    </section>

    <!-- Features -->
    <section class="card two-col reverse">
      <div class="col illustration">
        <img src="/img/Features.jpg" alt="Features" width="391" height="391" loading="lazy" />
      </div>
      <div class="col text">
        <h2 data-i18n="landing.features.title">Features</h2>
        <ul>
          <li data-i18n-html="landing.features.item1"><strong>Astrology‑aware matching</strong> — connect using your natal chart.</li>
          <li data-i18n-html="landing.features.item2"><strong>Timezone smart scheduling</strong> — we handle UTC conversions for you.</li>
          <li data-i18n-html="landing.features.item3"><strong>Private, secure chat</strong> — conversations stay on SoulTribe.chat.</li>
          <li data-i18n-html="landing.features.item4"><strong>Optional video via Jitsi</strong> — privacy‑friendly, no install on desktop.</li>
          <li data-i18n-html="landing.features.item5"><strong>Minimalist, focused UI</strong> — designed for meaningful conversations.</li>
        </ul>
      </div>
    </section>

    <!-- Privacy & Safety -->
    <section class="card two-col">
      <div class="col text">
        <h2 data-i18n="landing.privacy.title">Privacy & Safety</h2>
        <ul>
          <li data-i18n="landing.privacy.item1">We only ask for what’s needed to enable soulful connections.</li>
          <li data-i18n="landing.privacy.item2">Your profile details are not sold or shared with ad networks.</li>
          <li data-i18n="landing.privacy.item3">You control who can contact you and when to disclose more.</li>
        </ul>
      </div>
      <div class="col illustration">
        <img src="/img/PrivacySafety.jpg" alt="Privacy" loading="lazy" />
      </div>
    </section>

    <!-- How Matching Works -->
    <section class="card two-col reverse">
      <div class="col illustration">
        <img src="/img/Matching.jpg" alt="Matching" width="391" height="391" loading="lazy" />
      </div>
      <div class="col text">
        <h2 data-i18n="landing.matching.title">How Matching Works (Short Version)</h2>
        <p data-i18n="landing.matching.text">We compute key relational indicators from your chart and compare them with others to find resonance. We prioritize harmony, complementarity, and potential for growth over generic popularity metrics.</p>
      </div>
    </section>

    <!-- Pro Tips -->
    <section class="card two-col">
      <div class="col text">
        <h2 data-i18n="landing.protips.title">Pro Tips</h2>
        <ul>
          <li data-i18n="landing.protips.item1">Add a few availability slots across different days for quicker connections.</li>
          <li data-i18n="landing.protips.item2">Be genuine in your intro — specifics help the right people find you.</li>
          <li data-i18n="landing.protips.item3">Consent first, always. Move at the pace that feels right.</li>
        </ul>
      </div>
      <div class="col illustration">
        <img src="/img/Meet.jpg" alt="Meet" width="391" height="391" loading="lazy" />
      </div>
    </section>

    <!-- Next Steps -->
    <section class="card two-col reverse">
      <div class="col illustration">
        <img src="/img/StartChat.jpg" alt="Next Steps" loading="lazy" />
      </div>
      <div class="col text">
        <h2 data-i18n="landing.next.title">Next Steps</h2>
        <p>
          <a class="button" href="/dashboard.html" data-i18n="landing.next.go_dashboard">Go to Dashboard</a>
          <span class="sep"> </span>
          <a class="button secondary" href="/login.html" data-i18n="landing.next.login_register">Login / Register</a>
        </p>
      </div>
    </section>
    <!-- Global Community -->
    <section class="card two-col">
      <div class="col text">
        <h2 data-i18n="landing.global.title">Global Community</h2>
        <p data-i18n="landing.global.text">Speak your language, connect with the world. SoulTribe.chat supports multiple languages to bring your soul tribe closer, no matter where you're from.</p>
        
        <div class="feature-list">
          <div class="feature">
            <strong data-i18n="landing.global.auto_title">Automatic Translation</strong>
            <p data-i18n="landing.global.auto_text">Chat with matches in your preferred language, with automatic translation when needed.</p>
          </div>
          <div class="feature">
            <strong data-i18n="landing.global.native_title">Native Language Support</strong>
            <p data-i18n="landing.global.native_text">Fully translated interface in multiple languages, with more being added regularly.</p>
          </div>
          <div class="feature">
            <strong data-i18n="landing.global.tz_title">Time Zone Aware</strong>
            <p data-i18n="landing.global.tz_text">Automatic time zone detection and conversion, so you'll always know when your matches are available.</p>
          </div>
        </div>
        
        <div class="language-selector">
          <label for="language-select" data-i18n="landing.global.select_label">Select Language:</label>
          <select id="language-select" class="select"></select>
        </div>
      </div>
      <div class="col illustration">
        <img src="/img/Translate.jpg" alt="Global Community" loading="lazy" />
      </div>
    </section>
  </div>

  <footer class="site-footer">
    <div class="site-footer-inner">
      <a href="/terms.html" data-i18n="footer.terms">Terms</a>
      <span class="sep">•</span>
      <a href="/privacy.html" data-i18n="footer.privacy">Privacy</a>
      <span class="sep">•</span>
      <a href="/imprint.html" data-i18n="footer.imprint">Imprint</a>
    </div>
  </footer>

  <script src="/i18n/i18n.js"></script>
  <script src="/app.js"></script>
  <script>
    // Initialize i18n and bind language selector
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        if (window.SimpleI18n) {
          await window.SimpleI18n.init();
          const sel = document.getElementById('language-select');
          if (sel) {
            // Populate options from available languages
            try {
              const langs = window.SimpleI18n.languages || {};
              sel.innerHTML = Object.entries(langs)
                .map(([code, name]) => `<option value="${code}">${name}</option>`)
                .join('');
            } catch {}
            // Set initial value to current language
            try { sel.value = window.SimpleI18n.currentLang; } catch {}
            sel.addEventListener('change', async (e) => {
              try { await window.SimpleI18n.changeLanguage(e.target.value); } catch {}
            });
            // Keep selector in sync if language is changed elsewhere
            window.addEventListener('languageChanged', (ev) => {
              try { sel.value = ev.detail?.language || window.SimpleI18n.currentLang; } catch {}
            });
          }
        }
      } catch {}
    });
  </script>
  <script>
    (function toggleNav(){
      try {
        const t = localStorage.getItem('access_token');
        const loggedIn = !!t;
        var loginEl = document.getElementById('btn-login-link');
        var dashEl = document.getElementById('btn-dashboard-link');
        if (loginEl) loginEl.style.display = loggedIn ? 'none' : 'inline-block';
        if (dashEl) dashEl.style.display = loggedIn ? 'inline-block' : 'none';
      } catch {}
    })();

    // Show Admin link only for admins/localhost
    (async function showAdmin(){
      try {
        const r = await fetch('/api/admin/ping', {headers:{'Authorization': localStorage.getItem('access_token') ? 'Bearer '+localStorage.getItem('access_token') : ''}});
        if (r.ok) {
          var el = document.getElementById('btn-admin-link'); if (el) el.style.display='inline-block';
        }
      } catch {}
    })();
  </script>
</body>
</html>
